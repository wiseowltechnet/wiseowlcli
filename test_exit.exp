#!/usr/bin/expect -f

# Simple test for OCLI exit functionality
set timeout 10

puts "Testing OCLI exit functionality..."

# Start OCLI
spawn ocli

# Wait for the prompt
expect "You: " {
    puts "âœ… OCLI started successfully"
} timeout {
    puts "âŒ OCLI failed to start"
    exit 1
}

# Test exit command
send "exit\r"

# Wait for goodbye message
expect "Goodbye! ğŸ‘‹" {
    puts "âœ… Exit command works"
} timeout {
    puts "âŒ Exit command failed"
    exit 1
}

# Wait for process to actually exit
expect eof {
    puts "âœ… Process exited cleanly"
} timeout {
    puts "âŒ Process didn't exit properly"
    exit 1
}

puts "ğŸ‰ All exit tests passed!"
